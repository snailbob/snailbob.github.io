{"version":3,"sources":["webpack:///./src/app/shared/pipes/my-filter.pipe.ts","webpack:///./src/app/tab1/tab1.module.ts","webpack:///./src/app/tab1/tab1.page.html","webpack:///./src/app/tab1/tab1.page.scss","webpack:///./src/app/tab1/tab1.page.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAoD;AAMpD;IAAA;IAcA,CAAC;IAbG,gCAAS,GAAT,UAAU,KAAY,EAAE,MAAW;QAC/B,IAAI,CAAC,KAAK,IAAI,CAAC,MAAM,EAAE;YACnB,OAAO,KAAK,CAAC;SAChB;QACD,gEAAgE;QAChE,mCAAmC;QACnC,OAAO,KAAK,CAAC,MAAM,CAAC,cAAI;YACpB,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,UAAS,CAAC;gBACpC,OAAO,IAAI,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;YACtG,CAAC,CAAC;QACN,CAAC,CAAC,CAAC;QACH,gDAAgD;IACpD,CAAC;IAbQ,YAAY;QAJxB,0DAAI,CAAC;YACF,IAAI,EAAE,UAAU;YAChB,IAAI,EAAE,KAAK;SACd,CAAC;OACW,YAAY,CAcxB;IAAD,mBAAC;CAAA;AAdwB;;;;;;;;;;;;;;;;;;;;;;;;ACNoB;AACE;AACN;AACM;AACF;AACN;AACuB;AAW9D;IAAA;IAA6B,CAAC;IAAjB,cAAc;QAT1B,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,0DAAW;gBACX,4DAAY;gBACZ,0DAAW;gBACX,4DAAY,CAAC,QAAQ,CAAC,CAAC,EAAE,IAAI,EAAE,EAAE,EAAE,SAAS,EAAE,mDAAQ,EAAE,CAAC,CAAC;aAC3D;YACD,YAAY,EAAE,CAAC,mDAAQ,EAAE,yEAAY,CAAC;SACvC,CAAC;OACW,cAAc,CAAG;IAAD,qBAAC;CAAA;AAAH;;;;;;;;;;;;ACjB3B,iSAAiS,kBAAkB,grBAAgrB,OAAO,qPAAqP,8fAA8f,6BAA6B,qVAAqV,sBAAsB,gDAAgD,iBAAiB,GAAG,mBAAmB,iDAAiD,mBAAmB,sMAAsM,qBAAqB,uDAAuD,qEAAqE,8GAA8G,sCAAsC,mBAAmB,uCAAuC,qBAAqB,0BAA0B,8E;;;;;;;;;;;ACAp1F,yCAAyC,qBAAqB,qBAAqB,EAAE,mBAAmB,yBAAyB,uBAAuB,0BAA0B,sBAAsB,uBAAuB,EAAE,6BAA6B,qBAAqB,EAAE,yCAAyC,qBAAqB,EAAE,wCAAwC,iCAAiC,EAAE,sBAAsB,4BAA4B,gCAAgC,EAAE,+CAA+C,2xC;;;;;;;;;;;;;;;;;;;;;;;ACAzf;AACa;AACE;AACL;AACa;AAEV;AACA;AAEvD,0DAAI,CAAC;IACH,IAAI,EAAE,UAAU;IAChB,IAAI,EAAE,KAAK;CACZ,CAAC,CAAC;AACH;IAAA;IASA,CAAC;IARC,gCAAS,GAAT,UAAU,KAAY,EAAE,MAAW;QAC/B,IAAI,CAAC,KAAK,IAAI,CAAC,MAAM,EAAE;YACnB,OAAO,KAAK,CAAC;SAChB;QACD,gEAAgE;QAChE,mCAAmC;QACnC,OAAO,KAAK,CAAC,MAAM,CAAC,cAAI,IAAI,WAAI,CAAC,SAAS,CAAC,OAAO,CAAC,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,EAA/C,CAA+C,CAAC,CAAC;IACjF,CAAC;IACH,mBAAC;AAAD,CAAC;;AAOD;IAgBE,kBACS,WAAwB,EACxB,qBAA4C,EAC5C,WAAwB,EACvB,MAAc,EACd,KAAqB,EACrB,WAAwB;QALzB,gBAAW,GAAX,WAAW,CAAa;QACxB,0BAAqB,GAArB,qBAAqB,CAAuB;QAC5C,gBAAW,GAAX,WAAW,CAAa;QACvB,WAAM,GAAN,MAAM,CAAQ;QACd,UAAK,GAAL,KAAK,CAAgB;QACrB,gBAAW,GAAX,WAAW,CAAa;QApBlC,SAAI,GAAa,+DAAQ,CAAC,GAAG,CAAC;QAC9B,UAAK,GAAW,WAAW,CAAC;QAE5B,eAAU,GAAW,EAAE,CAAC;QACxB,aAAQ,GAAQ,EAAE,CAAC;QACnB,UAAK,GAAQ,EAAE,CAAC;QAChB,cAAS,GAAY,KAAK,CAAC;QAC3B,iBAAY,GAAW,CAAC,CAAC;QACzB,oBAAe,GAAW,CAAC,CAAC;QAC5B,oBAAe,GAAW,CAAC,CAAC;QAC5B,qBAAgB,GAAW,CAAC,CAAC;QAC7B,oBAAe,GAAW,CAAC,CAAC;QAC5B,qBAAgB,GAAW,CAAC,CAAC;IASxB,CAAC;IAEN,2BAAQ,GAAR;QACE,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC;QAC/C,IAAI,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,EAAE;YAC5C,IAAI,CAAC,KAAK,GAAG,eAAe,CAAC;YAC7B,IAAI,CAAC,IAAI,GAAG,+DAAQ,CAAC,OAAO,CAAC;SAC9B;QACD,IAAI,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,EAAE;YAC3C,IAAI,CAAC,KAAK,GAAG,cAAc,CAAC;YAC5B,IAAI,CAAC,IAAI,GAAG,+DAAQ,CAAC,MAAM,CAAC;SAC7B;QACD,IAAI,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,EAAE;YAC3C,IAAI,CAAC,KAAK,GAAG,cAAc,CAAC;YAC5B,IAAI,CAAC,IAAI,GAAG,+DAAQ,CAAC,MAAM,CAAC;SAC7B;QACD,IAAI,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,EAAE;YAC3C,IAAI,CAAC,KAAK,GAAG,cAAc,CAAC;YAC5B,IAAI,CAAC,IAAI,GAAG,+DAAQ,CAAC,MAAM,CAAC;SAC7B;QACD,mBAAmB;IACrB,CAAC;IAED,mCAAgB,GAAhB;QACE,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC;QAE/C,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,IAAI,CAAC,QAAQ,EAAE,CAAC;QAChB,IAAI,CAAC,UAAU,EAAE,CAAC;IACpB,CAAC;IAED,kCAAe,GAAf;QACE,oCAAoC;QACpC,4BAA4B;QAC5B,4DAA4D;QAC5D,2CAA2C;QAC3C,uFAAuF;QACvF,yFAAyF;QACzF,uFAAuF;QACvF,0EAA0E;QACxE,6LAA6L;QAE/L,sBAAsB;QAEpB,mDAAmD;QACrD,2BAA2B;QAC3B,WAAW;IACb,CAAC;IAED,6BAAU,GAAV;QACE,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,GAAG,CAAC;IACrC,CAAC;IAED,2BAAQ,GAAR;QAAA,iBAmBC;QAlBC,wDAAwD;QACxD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,EAAC,MAAM,EAAE,IAAI,CAAC,IAAI,EAAE,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE,MAAM,EAAE,IAAI,CAAC,UAAU,EAAC,CAAC,CAAC;QAElH,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,WAAC;YACtB,KAAI,CAAC,SAAS,GAAG,KAAK,CAAC;YACvB,KAAI,CAAC,KAAK,GAAG,CAAC,CAAC,IAAI,CAAC;YACpB,KAAI,CAAC,YAAY,GAAG,CAAC,CAAC,cAAc,CAAC;YACrC,KAAI,CAAC,eAAe,GAAG,CAAC,CAAC,aAAa,CAAC;YACvC,KAAI,CAAC,eAAe,GAAG,CAAC,CAAC,aAAa,CAAC;YACvC,KAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC,cAAc,CAAC;YACzC,KAAI,CAAC,eAAe,GAAG,CAAC,CAAC,aAAa,CAAC;YACvC,KAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC,kBAAkB,CAAC;YAC7C,oDAAoD;YAEpD,uBAAuB;QACzB,CAAC,EAAE;YACD,KAAI,CAAC,KAAK,GAAG,EAAE,CAAC;QAClB,CAAC,CAAC;IACJ,CAAC;IAED,0BAA0B;IAC1B,oCAAoC;IAEpC,8FAA8F;IAC9F,2FAA2F;IAC3F,wHAAwH;IACxH,sHAAsH;IACtH,0EAA0E;IAC1E,uGAAuG;IACvG,iDAAiD;IACjD,6DAA6D;IAC7D,IAAI;IAEE,qCAAkB,GAAxB;;;;;;4BAEsB,qBAAM,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC;4BAC1D,MAAM,EAAE,QAAQ;4BAChB,OAAO,EAAE,CAAC;oCACR,IAAI,EAAE,gBAAc,IAAI,CAAC,YAAY,MAAG;oCACxC,OAAO,EAAE;wCACP,oCAAoC;wCACpC,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,EAAE,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC,CAAC;oCAC7D,CAAC;iCACF,EAAE;oCACD,IAAI,EAAE,mBAAiB,IAAI,CAAC,eAAe,MAAG;oCAC9C,OAAO,EAAE;wCACP,uCAAuC;wCACvC,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,wBAAwB,CAAC,EAAE,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC,CAAC;oCAEzE,CAAC;iCACF,EAAE;oCACD,IAAI,EAAE,oBAAkB,IAAI,CAAC,gBAAgB,MAAG;oCAChD,OAAO,EAAE;wCACP,kCAAkC;wCAClC,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,yBAAyB,CAAC,EAAE,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC,CAAC;oCAC1E,CAAC;iCACF,EAAE;oCACD,IAAI,EAAE,mBAAiB,IAAI,CAAC,eAAe,MAAG;oCAC9C,OAAO,EAAE;wCACP,uCAAuC;wCACvC,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,wBAAwB,CAAC,EAAE,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC,CAAC;oCACzE,CAAC;iCACF,EAAE;oCACD,IAAI,EAAE,mBAAiB,IAAI,CAAC,eAAe,MAAG;oCAC9C,OAAO,EAAE;wCACP,uCAAuC;wCACvC,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,wBAAwB,CAAC,EAAE,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC,CAAC;oCACzE,CAAC;iCACF,EAAE;oCACD,IAAI,EAAE,QAAQ;oCACd,IAAI,EAAE,QAAQ;oCACd,OAAO,EAAE;wCACP,iCAAiC;oCACnC,CAAC;iCACF,CAAC;yBACH,CAAC;;wBAxCI,WAAW,GAAG,SAwClB;wBACF,qBAAM,WAAW,CAAC,OAAO,EAAE;;wBAA3B,SAA2B,CAAC;;;;;KAC7B;IA1JU,QAAQ;QALpB,+DAAS,CAAC;YACT,QAAQ,EAAE,UAAU;YACpB,sFAA6B;;SAE9B,CAAC;+EAkBsB,kEAAW;YACD,oEAAqB;YAC/B,kEAAW;YACf,sDAAM;YACP,8DAAc;YACR,kEAAW;OAtBvB,QAAQ,CA4JpB;IAAD,eAAC;CAAA;AA5JoB","file":"tab1-tab1-module.js","sourcesContent":["import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n    name: 'myfilter',\n    pure: false\n})\nexport class MyFilterPipe implements PipeTransform {\n    transform(items: any[], filter: any): any {\n        if (!items || !filter) {\n            return items;\n        }\n        // filter items array, items which match and return true will be\n        // kept, false will be filtered out\n        return items.filter(item => {\n            return Object.keys(item).some(function(k) {\n                return item[k].toString().toLowerCase().indexOf(filter.call_type.toString().toLowerCase()) !== -1;\n            })\n        });\n        // item.subType.indexOf(filter.subType) !== -1);\n    }\n}\n","import { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Tab1Page } from './tab1.page';\nimport { MyFilterPipe } from '../shared/pipes/my-filter.pipe';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    RouterModule.forChild([{ path: '', component: Tab1Page }])\n  ],\n  declarations: [Tab1Page, MyFilterPipe]\n})\nexport class Tab1PageModule {}\n","module.exports = \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"end\\\">\\r\\n      <ion-button color=\\\"primary\\\" (click)=\\\"presentActionSheet()\\\">\\r\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"funnel\\\"></ion-icon>\\r\\n        <ion-badge color=\\\"danger\\\" class=\\\"header-badge\\\">{{totalActiveCases}}</ion-badge>\\r\\n      </ion-button>\\r\\n      <ion-menu-button></ion-menu-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>\\r\\n      <img alt=\\\"logo\\\" height=\\\"40\\\" src=\\\"assets/logo.png\\\">\\r\\n    </ion-title>\\r\\n  </ion-toolbar>\\r\\n  <ion-toolbar>\\r\\n    <ion-searchbar [(ngModel)]=\\\"searchText\\\" (ngModelChange)=\\\"getCases()\\\" placeholder=\\\"Search case (eg. call type, telephone etc)\\\"></ion-searchbar>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <div padding class=\\\"ion-text-center\\\" *ngIf=\\\"isLoading\\\">\\r\\n    <ion-spinner></ion-spinner>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"ion-padding-start\\\" *ngIf=\\\"!isLoading\\\">\\r\\n    <ion-text color=\\\"primary\\\">\\r\\n      <h4>{{title}}</h4>\\r\\n    </ion-text>\\r\\n  </div>\\r\\n  <ion-list class=\\\"case-list\\\" *ngIf=\\\"!isLoading\\\">\\r\\n    <div padding class=\\\"ion-text-center\\\" *ngIf=\\\"!cases.length\\\">\\r\\n      Empty\\r\\n    </div>\\r\\n    <ion-item detail *ngFor=\\\"let case of cases; let i = index\\\" [routerLink]=\\\"case.ownership_text === 'Forwarded' ? '/tabs/tab1/case/details/'+case.id+'/forwarded/assign' : '/tabs/tab1/case/details/'+case.id+'/'+case.status_text.toLowerCase()\\\">\\r\\n      <ion-avatar slot=\\\"start\\\" *ngIf=\\\"!case.avatar\\\">\\r\\n        <img [src]=\\\"i%2 ? 'assets/case1.png' : 'assets/case2.png'\\\">\\r\\n      </ion-avatar>\\r\\n      <ion-avatar slot=\\\"start\\\" *ngIf=\\\"case.avatar\\\">\\r\\n        <img [src]=\\\"case.avatar\\\">\\r\\n      </ion-avatar>\\r\\n      <ion-label [ngClass]=\\\"{'item-unread': !case.is_read}\\\">\\r\\n        <h2>\\r\\n          <ion-icon [color]=\\\"case.status_color\\\" *ngIf=\\\"!case.is_read || case.ownership_text === 'Forwarded'\\\" name=\\\"radio-button-on\\\"></ion-icon>\\r\\n          <ion-icon [color]=\\\"case.status_color\\\" *ngIf=\\\"case.is_read && case.ownership_text !== 'Forwarded'\\\" name=\\\"radio-button-off\\\"></ion-icon>\\r\\n          {{case.sender_fullname}}\\r\\n          \\r\\n        </h2>\\r\\n        <p>{{case.call_type}}; {{case.subcall_type}}</p>\\r\\n        <p *ngIf=\\\"case.full_message\\\">{{case.full_message}}</p>\\r\\n        <p *ngIf=\\\"!case.full_message\\\"> Full message of the case here </p>\\r\\n        <p *ngIf=\\\"case.status_text !== 'Active'\\\">\\r\\n          <ion-badge [color]=\\\"case.ownership_color\\\">{{case.ownership_text}}</ion-badge>\\r\\n          <ion-badge color=\\\"light\\\">{{case.ownership_text === 'Accepted' ? case.acceptee : case.forwardee}}</ion-badge>\\r\\n        </p>\\r\\n      </ion-label>\\r\\n      <small slot=\\\"end\\\" color=\\\"light\\\">\\r\\n        {{ case.created_at | date: 'shortTime'}} <br>\\r\\n        {{ case.created_at | date: 'mediumDate'}} <br>\\r\\n        [#{{case.case_id | slice:0:4}}]\\r\\n      </small>\\r\\n    </ion-item>\\r\\n\\r\\n  </ion-list>\\r\\n</ion-content>\"","module.exports = \".welcome-card ion-img {\\n  max-height: 35vh;\\n  overflow: hidden; }\\n\\n.header-badge {\\n  top: -2px !important;\\n  position: absolute;\\n  left: 18px !important;\\n  padding-left: 6px;\\n  padding-right: 6px; }\\n\\n.case-list ion-label h2 {\\n  font-weight: 100; }\\n\\n.case-list ion-label.item-unread h2 {\\n  font-weight: 500; }\\n\\n.case-list ion-label.item-unread p {\\n  color: var(--ion-color-dark); }\\n\\n.case-list small {\\n  opacity: 0.8 !important;\\n  font-weight: 100 !important; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdGFiMS9EOlxcV29ya1xcUGF1bFxcQ3VyYU1vYmlsZUF6dXJlXFxDdXJhY2FsbC1tb2JpbGUtYXBwL3NyY1xcYXBwXFx0YWIxXFx0YWIxLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUNFLGdCQUFnQjtFQUNoQixnQkFBZ0IsRUFBQTs7QUFHbEI7RUFDRSxvQkFBb0I7RUFDcEIsa0JBQWtCO0VBQ2xCLHFCQUFxQjtFQUNyQixpQkFBaUI7RUFDakIsa0JBQWtCLEVBQUE7O0FBR3BCO0VBR00sZ0JBQWdCLEVBQUE7O0FBSHRCO0VBT1EsZ0JBQWdCLEVBQUE7O0FBUHhCO0VBV1EsNEJBQTRCLEVBQUE7O0FBWHBDO0VBZ0JJLHVCQUF1QjtFQUN2QiwyQkFBMkIsRUFBQSIsImZpbGUiOiJzcmMvYXBwL3RhYjEvdGFiMS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcbi53ZWxjb21lLWNhcmQgaW9uLWltZyB7XG4gIG1heC1oZWlnaHQ6IDM1dmg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG59XG5cbi5oZWFkZXItYmFkZ2V7XG4gIHRvcDogLTJweCAhaW1wb3J0YW50O1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGxlZnQ6IDE4cHggIWltcG9ydGFudDtcbiAgcGFkZGluZy1sZWZ0OiA2cHg7XG4gIHBhZGRpbmctcmlnaHQ6IDZweDtcbn1cblxuLmNhc2UtbGlzdHtcbiAgaW9uLWxhYmVse1xuICAgIGgye1xuICAgICAgZm9udC13ZWlnaHQ6IDEwMDtcbiAgICB9XG4gICAgJi5pdGVtLXVucmVhZHtcbiAgICAgIGgye1xuICAgICAgICBmb250LXdlaWdodDogNTAwO1xuICAgICAgICAvLyBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xuICAgICAgfVxuICAgICAgcHtcbiAgICAgICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1kYXJrKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgc21hbGx7XG4gICAgb3BhY2l0eTogMC44ICFpbXBvcnRhbnQ7XG4gICAgZm9udC13ZWlnaHQ6IDEwMCAhaW1wb3J0YW50O1xuICB9XG59Il19 */\"","import { Component } from '@angular/core';\r\nimport { ActionSheetController } from '@ionic/angular';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { Pipe, PipeTransform } from '@angular/core';\r\nimport { CaseService, CaseType } from '../services/case.service';\r\nimport { Observable } from 'rxjs';\r\nimport { UserService } from '../services/user.service';\r\nimport { DataService } from '../services/data.service';\r\n\r\nPipe({\r\n  name: 'myfilter',\r\n  pure: false\r\n});\r\nexport class MyFilterPipe implements PipeTransform {\r\n  transform(items: any[], filter: any): any {\r\n      if (!items || !filter) {\r\n          return items;\r\n      }\r\n      // filter items array, items which match and return true will be\r\n      // kept, false will be filtered out\r\n      return items.filter(item => item.call_type.indexOf(filter.call_type) !== -1);\r\n  }\r\n}\r\n\r\n@Component({\r\n  selector: 'app-tab1',\r\n  templateUrl: 'tab1.page.html',\r\n  styleUrls: ['tab1.page.scss']\r\n})\r\nexport class Tab1Page {\r\n  results: Observable<any>;\r\n  type: CaseType = CaseType.all;\r\n  title: string = 'All Cases';\r\n\r\n  searchText: string = '';\r\n  userInfo: any = {};\r\n  cases: any = [];\r\n  isLoading: boolean = false;\r\n  allCaseCount: number = 0;\r\n  activeCaseCount: number = 0;\r\n  silentCaseCount: number = 0;\r\n  pendingCaseCount: number = 0;\r\n  closedCaseCount: number = 0;\r\n  totalActiveCases: number = 0;\r\n\r\n  constructor(\r\n    public dataService: DataService,\r\n    public actionSheetController: ActionSheetController,\r\n    public userService: UserService,\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private caseService: CaseService\r\n    ) {}\r\n    \r\n  ngOnInit() {\r\n    this.userInfo = this.userService.getUserInfo();\r\n    if (this.router.url.indexOf('/pending') > -1) {\r\n      this.title = 'Pending Cases';\r\n      this.type = CaseType.pending;\r\n    }\r\n    if (this.router.url.indexOf('/closed') > -1) {\r\n      this.title = 'Closed Cases';\r\n      this.type = CaseType.closed;\r\n    }\r\n    if (this.router.url.indexOf('/silent') > -1) {\r\n      this.title = 'Silent Cases';\r\n      this.type = CaseType.silent;\r\n    }\r\n    if (this.router.url.indexOf('/active') > -1) {\r\n      this.title = 'Active Cases';\r\n      this.type = CaseType.active;\r\n    }\r\n    // this.getCases();\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    this.userInfo = this.userService.getUserInfo();\r\n\r\n    this.isLoading = true;\r\n    this.getCases();\r\n    this.newMessage();\r\n  }\r\n\r\n  ionViewDidEnter() {\r\n    // const timeout = setTimeout(()=> {\r\n    //   this.isLoading = false;\r\n    //   this.cases = JSON.parse(localStorage.getItem(\"cases\"));\r\n    //   this.allCaseCount = this.cases.length;\r\n    //   this.activeCaseCount = this.cases.filter(item => item.status === 'Active').length;\r\n    //   this.pendingCaseCount = this.cases.filter(item => item.status === 'Pending').length;\r\n    //   this.closedCaseCount = this.cases.filter(item => item.status === 'Closed').length;\r\n    //   this.totalActiveCases = this.activeCaseCount + this.pendingCaseCount;\r\n      // console.log(this.allCaseCount, this.activeCaseCount, this.pendingCaseCount, this.closedCaseCount, 'this.allCaseCount, this.activeCaseCount, this.pendingCaseCount, this.closedCaseCount');\r\n\r\n    //   this.sortCases();\r\n\r\n      // console.log(\"Looks like I'm about to leave :(\");\r\n    //   clearTimeout(timeout);\r\n    // }, 200);\r\n  }\r\n\r\n  newMessage() {\r\n    this.dataService.changeMessage(\"2\")\r\n  }\r\n\r\n  getCases() {\r\n    // Call our service function which returns an Observable\r\n    this.results = this.caseService.getCases({status: this.type, user_id: this.userInfo.id, search: this.searchText});\r\n\r\n    this.results.subscribe(o => {\r\n      this.isLoading = false;\r\n      this.cases = o.data;\r\n      this.allCaseCount = o.allCaseCounter;\r\n      this.silentCaseCount = o.silentCounter;\r\n      this.activeCaseCount = o.activeCounter;\r\n      this.pendingCaseCount = o.pendingCounter;\r\n      this.closedCaseCount = o.closedCounter;\r\n      this.totalActiveCases = o.totalActiveCounter;\r\n      // localStorage.setItem(\"cases\", JSON.stringify(o));\r\n\r\n      // console.log(o, '0');\r\n    }, () => {\r\n      this.cases = [];\r\n    })\r\n  }\r\n\r\n  // sortCases(cases: any) {\r\n  //   // console.log(cases, 'cases');\r\n\r\n  //   const unreadActive = cases.filter((item: any) => item.status === 'Active' && !item.read);\r\n  //   const readActive = cases.filter((item: any) => item.status === 'Active' && item.read);\r\n  //   const pendingForwarded = cases.filter((item: any) => item.status === 'Pending' && item.callStatus === 'Forwarded');\r\n  //   const pendingAccepted = cases.filter((item: any) => item.status === 'Pending' && item.callStatus === 'Accepted');\r\n  //   const closed = cases.filter((item: any) => item.status === 'Closed');\r\n  //   this.cases = [...unreadActive, ...readActive, ...pendingForwarded, ...pendingAccepted, ...closed];\r\n  //   // console.log(this.cases, 'caseasdfadsfs');\r\n  //   // localStorage.setItem(\"cases\", JSON.stringify(cases));\r\n  // }\r\n\r\n  async presentActionSheet() {\r\n\r\n    const actionSheet = await this.actionSheetController.create({\r\n      header: 'Filter',\r\n      buttons: [{\r\n        text: `All Cases (${this.allCaseCount})`,\r\n        handler: () => {\r\n          // console.log('All cases clicked');\r\n          this.router.navigate(['/tabs/tab1'], { replaceUrl: true });\r\n        }\r\n      }, {\r\n        text: `Active Cases (${this.activeCaseCount})`,\r\n        handler: () => {\r\n          // console.log('Active cases clicked');\r\n          this.router.navigate(['/tabs/tab1/case/active'], { replaceUrl: true });\r\n\r\n        }\r\n      }, {\r\n        text: `Pending Cases (${this.pendingCaseCount})`,\r\n        handler: () => {\r\n          // console.log('Pending clicked');\r\n          this.router.navigate(['/tabs/tab1/case/pending'], { replaceUrl: true });\r\n        }\r\n      }, {\r\n        text: `Closed Cases (${this.closedCaseCount})`,\r\n        handler: () => {\r\n          // console.log('Closed Cases clicked');\r\n          this.router.navigate(['/tabs/tab1/case/closed'], { replaceUrl: true });\r\n        }\r\n      }, {\r\n        text: `Silent Cases (${this.silentCaseCount})`,\r\n        handler: () => {\r\n          // console.log('Silent Cases clicked');\r\n          this.router.navigate(['/tabs/tab1/case/silent'], { replaceUrl: true });\r\n        }\r\n      }, {\r\n        text: 'Cancel',\r\n        role: 'cancel',\r\n        handler: () => {\r\n          // console.log('Cancel clicked');\r\n        }\r\n      }]\r\n    });\r\n    await actionSheet.present();\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}