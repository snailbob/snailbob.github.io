{"version":3,"sources":["webpack:///./node_modules/time-ago-pipe/esm5/time-ago-pipe.js","webpack:///./src/app/tab2/tab2.module.ts","webpack:///./src/app/tab2/tab2.page.html","webpack:///./src/app/tab2/tab2.page.scss","webpack:///./src/app/tab2/tab2.page.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAgE;AAChE;AACA;AACA,cAAc,WAAW;AACzB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB;AACA;AACA;AACA,kDAAkD,+CAA+C,EAAE;AACnG,iBAAiB;AACjB;AACA;AACA,SAAS;AACT,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,KAAK,OAAO,kDAAI;AAChB;AACA;AACA,aAAa,IAAI;AACjB;AACA;AACA,0CAA0C;AAC1C,KAAK,OAAO,+DAAiB,GAAG;AAChC,KAAK,OAAO,oDAAM,GAAG;AACrB,EAAE;AACF;AACA;AACA,cAAc,WAAW;AACzB;AACA;AACA;AACA;AACuB;AACvB;;;;;;;;;;;;;;;;;;;;;;;;ACzI6C;AACE;AACN;AACM;AACF;AACN;AACG;AAU1C;IAAA;IAA6B,CAAC;IAAjB,cAAc;QAT1B,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,0DAAW;gBACX,4DAAY;gBACZ,0DAAW;gBACX,4DAAY,CAAC,QAAQ,CAAC,CAAC,EAAE,IAAI,EAAE,EAAE,EAAE,SAAS,EAAE,mDAAQ,EAAE,CAAC,CAAC;aAC3D;YACD,YAAY,EAAE,CAAC,mDAAQ,EAAE,yDAAW,CAAC;SACtC,CAAC;OACW,cAAc,CAAG;IAAD,qBAAC;CAAA;AAAH;;;;;;;;;;;;AChB3B,wyBAAwyB,iEAAiE,YAAY,qDAAqD,8IAA8I,8JAA8J,sBAAsB,yEAAyE,yDAAyD,6CAA6C,mCAAmC,gM;;;;;;;;;;;ACA97C,0CAA0C,mBAAmB,oBAAoB,EAAE,mBAAmB,uBAAuB,EAAE,yBAAyB,qBAAqB,sBAAsB,EAAE,sCAAsC,2BAA2B,kBAAkB,EAAE,iBAAiB,uBAAuB,EAAE,uBAAuB,qBAAqB,sBAAsB,EAAE,oCAAoC,2BAA2B,kBAAkB,mBAAmB,EAAE,+CAA+C,mxC;;;;;;;;;;;;;;;;;;;;ACAnf;AACa;AACE;AAEI;AAQ7D;IAKE,kBACS,qBAA4C,EAC3C,MAAc,EACd,KAAqB,EACrB,cAA8B;QAH/B,0BAAqB,GAArB,qBAAqB,CAAuB;QAC3C,WAAM,GAAN,MAAM,CAAQ;QACd,UAAK,GAAL,KAAK,CAAgB;QACrB,mBAAc,GAAd,cAAc,CAAgB;QAPxC,aAAQ,GAAQ,EAAE,CAAC;QACnB,cAAS,GAAY,KAAK,CAAC;IAOxB,CAAC;IAEJ,2BAAQ,GAAR,cAAY,CAAC;IAEb,mCAAgB,GAAhB;QACE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,IAAI,CAAC,WAAW,EAAE,CAAC;IACrB,CAAC;IAED,8BAAW,GAAX;QAAA,iBASC;QARC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE,CAAC;QAEjD,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,WAAC;YACtB,KAAI,CAAC,SAAS,GAAG,KAAK,CAAC;YACvB,KAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,KAAK,CAAC;YACxB,YAAY,CAAC,OAAO,CAAC,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;YACjD,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;QACtB,CAAC,CAAC;IACJ,CAAC;IA5BU,QAAQ;QALpB,+DAAS,CAAC;YACT,QAAQ,EAAE,UAAU;YACpB,sFAA6B;;SAE9B,CAAC;+EAOgC,oEAAqB;YACnC,sDAAM;YACP,8DAAc;YACL,wEAAc;OAT7B,QAAQ,CA6BpB;IAAD,eAAC;CAAA;AA7BoB","file":"tab2-tab2-module.js","sourcesContent":["import { Pipe, NgZone, ChangeDetectorRef } from '@angular/core';\r\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes} checked by tsc\r\n */\r\nvar TimeAgoPipe = /** @class */ (function () {\r\n    /**\r\n     * @param {?} changeDetectorRef\r\n     * @param {?} ngZone\r\n     */\r\n    function TimeAgoPipe(changeDetectorRef, ngZone) {\r\n        this.changeDetectorRef = changeDetectorRef;\r\n        this.ngZone = ngZone;\r\n    }\r\n    /**\r\n     * @param {?} value\r\n     * @return {?}\r\n     */\r\n    TimeAgoPipe.prototype.transform = function (value) {\r\n        var _this = this;\r\n        this.removeTimer();\r\n        var /** @type {?} */ d = new Date(value);\r\n        var /** @type {?} */ now = new Date();\r\n        var /** @type {?} */ seconds = Math.round(Math.abs((now.getTime() - d.getTime()) / 1000));\r\n        var /** @type {?} */ timeToUpdate = (Number.isNaN(seconds)) ? 1000 : this.getSecondsUntilUpdate(seconds) * 1000;\r\n        this.timer = this.ngZone.runOutsideAngular(function () {\r\n            if (typeof window !== 'undefined') {\r\n                return window.setTimeout(function () {\r\n                    _this.ngZone.run(function () { return _this.changeDetectorRef.markForCheck(); });\r\n                }, timeToUpdate);\r\n            }\r\n            return null;\r\n        });\r\n        var /** @type {?} */ minutes = Math.round(Math.abs(seconds / 60));\r\n        var /** @type {?} */ hours = Math.round(Math.abs(minutes / 60));\r\n        var /** @type {?} */ days = Math.round(Math.abs(hours / 24));\r\n        var /** @type {?} */ months = Math.round(Math.abs(days / 30.416));\r\n        var /** @type {?} */ years = Math.round(Math.abs(days / 365));\r\n        if (Number.isNaN(seconds)) {\r\n            return '';\r\n        }\r\n        else if (seconds <= 45) {\r\n            return 'a few seconds ago';\r\n        }\r\n        else if (seconds <= 90) {\r\n            return 'a minute ago';\r\n        }\r\n        else if (minutes <= 45) {\r\n            return minutes + ' minutes ago';\r\n        }\r\n        else if (minutes <= 90) {\r\n            return 'an hour ago';\r\n        }\r\n        else if (hours <= 22) {\r\n            return hours + ' hours ago';\r\n        }\r\n        else if (hours <= 36) {\r\n            return 'a day ago';\r\n        }\r\n        else if (days <= 25) {\r\n            return days + ' days ago';\r\n        }\r\n        else if (days <= 45) {\r\n            return 'a month ago';\r\n        }\r\n        else if (days <= 345) {\r\n            return months + ' months ago';\r\n        }\r\n        else if (days <= 545) {\r\n            return 'a year ago';\r\n        }\r\n        else {\r\n            // (days > 545)\r\n            return years + ' years ago';\r\n        }\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    TimeAgoPipe.prototype.ngOnDestroy = function () {\r\n        this.removeTimer();\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    TimeAgoPipe.prototype.removeTimer = function () {\r\n        if (this.timer) {\r\n            window.clearTimeout(this.timer);\r\n            this.timer = null;\r\n        }\r\n    };\r\n    /**\r\n     * @param {?} seconds\r\n     * @return {?}\r\n     */\r\n    TimeAgoPipe.prototype.getSecondsUntilUpdate = function (seconds) {\r\n        var /** @type {?} */ min = 60;\r\n        var /** @type {?} */ hr = min * 60;\r\n        var /** @type {?} */ day = hr * 24;\r\n        if (seconds < min) {\r\n            // less than 1 min, update every 2 secs\r\n            return 2;\r\n        }\r\n        else if (seconds < hr) {\r\n            // less than an hour, update every 30 secs\r\n            return 30;\r\n        }\r\n        else if (seconds < day) {\r\n            // less then a day, update every 5 mins\r\n            return 300;\r\n        }\r\n        else {\r\n            // update every hour\r\n            return 3600;\r\n        }\r\n    };\r\n    return TimeAgoPipe;\r\n}());\r\nTimeAgoPipe.decorators = [\r\n    { type: Pipe, args: [{\r\n                name: 'timeAgo',\r\n                pure: false\r\n            },] },\r\n];\r\n/** @nocollapse */\r\nTimeAgoPipe.ctorParameters = function () { return [\r\n    { type: ChangeDetectorRef, },\r\n    { type: NgZone, },\r\n]; };\r\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes} checked by tsc\r\n */\r\n/**\r\n * Generated bundle index. Do not edit.\r\n */\r\nexport { TimeAgoPipe };\r\n//# sourceMappingURL=time-ago-pipe.js.map\n","import { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Tab2Page } from './tab2.page';\nimport {TimeAgoPipe} from 'time-ago-pipe';\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    RouterModule.forChild([{ path: '', component: Tab2Page }])\n  ],\n  declarations: [Tab2Page, TimeAgoPipe]\n})\nexport class Tab2PageModule {}\n","module.exports = \"<ion-header color=\\\"primary\\\">\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"end\\\">\\r\\n      <ion-button color=\\\"primary\\\" routerLink=\\\"/tabs/tab2/messages/recent\\\">\\r\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"add\\\"></ion-icon>\\r\\n      </ion-button>\\r\\n      <ion-menu-button></ion-menu-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>\\r\\n      <img alt=\\\"logo\\\" height=\\\"40\\\" src=\\\"assets/logo.png\\\">\\r\\n    </ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <div padding class=\\\"ion-text-center\\\" *ngIf=\\\"isLoading\\\">\\r\\n    <ion-spinner></ion-spinner>\\r\\n  </div>\\r\\n\\r\\n  <ion-list *ngIf=\\\"!isLoading\\\">\\r\\n    <ion-list-header>\\r\\n      <ion-label>Recent Conversation</ion-label>\\r\\n    </ion-list-header>\\r\\n    <ion-item *ngFor=\\\"let message of messages; let i = index\\\" routerLink=\\\"/tabs/tab2/messages/conversation/{{message.id}}\\\">\\r\\n      <ion-avatar slot=\\\"start\\\" [ngClass]=\\\"{'avatar-multiple' : message.contacts.length > 3, 'avatar-two' : message.contacts.length === 2, 'avatar-three' : message.contacts.length === 3}\\\">\\r\\n        <img *ngFor=\\\"let contact of message.contacts | slice:0:4\\\" [src]=\\\"contact.avatar\\\">\\r\\n      </ion-avatar>\\r\\n      <ion-label>\\r\\n        {{message.contact_name}}\\r\\n        <ion-text [color]=\\\"message.unreadText\\\">\\r\\n          <h5>{{message.last_convo ? message.last_convo.message : '...'}}</h5>\\r\\n        </ion-text>\\r\\n        <p>{{message.updated_at.date | timeAgo}}</p>\\r\\n      </ion-label>\\r\\n    </ion-item>\\r\\n  </ion-list>\\r\\n  <div padding class=\\\"ion-text-center\\\" *ngIf=\\\"!isLoading && !messages.length\\\">\\r\\n    Empty\\r\\n  </div>\\r\\n</ion-content>\"","module.exports = \".avatar-multiple > img {\\n  max-width: 50%;\\n  max-height: 50%; }\\n\\n.avatar-three {\\n  position: relative; }\\n\\n.avatar-three > img {\\n    max-width: 50%;\\n    max-height: 50%; }\\n\\n.avatar-three > img:nth-child(3) {\\n      position: relative;\\n      left: 25%; }\\n\\n.avatar-two {\\n  position: relative; }\\n\\n.avatar-two > img {\\n    max-width: 70%;\\n    max-height: 70%; }\\n\\n.avatar-two > img:nth-child(2) {\\n      position: absolute;\\n      top: 20px;\\n      right: 0px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdGFiMi9EOlxcV29ya1xcUGF1bFxcQ3VyYU1vYmlsZUF6dXJlXFxDdXJhY2FsbC1tb2JpbGUtYXBwL3NyY1xcYXBwXFx0YWIyXFx0YWIyLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUVRLGNBQWM7RUFDZCxlQUFlLEVBQUE7O0FBR3ZCO0VBQ0ksa0JBQWtCLEVBQUE7O0FBRHRCO0lBR1EsY0FBYztJQUNkLGVBQWUsRUFBQTs7QUFKdkI7TUFNWSxrQkFBa0I7TUFDbEIsU0FBUyxFQUFBOztBQUlyQjtFQUNJLGtCQUFrQixFQUFBOztBQUR0QjtJQUdRLGNBQWM7SUFDZCxlQUFlLEVBQUE7O0FBSnZCO01BTVksa0JBQWtCO01BQ2xCLFNBQVM7TUFDVCxVQUFVLEVBQUEiLCJmaWxlIjoic3JjL2FwcC90YWIyL3RhYjIucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmF2YXRhci1tdWx0aXBsZXtcbiAgICA+aW1nIHtcbiAgICAgICAgbWF4LXdpZHRoOiA1MCU7XG4gICAgICAgIG1heC1oZWlnaHQ6IDUwJTtcbiAgICB9XG59XG4uYXZhdGFyLXRocmVle1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICA+aW1nIHtcbiAgICAgICAgbWF4LXdpZHRoOiA1MCU7XG4gICAgICAgIG1heC1oZWlnaHQ6IDUwJTtcbiAgICAgICAgJjpudGgtY2hpbGQoMykge1xuICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICAgICAgbGVmdDogMjUlO1xuICAgICAgICB9XG4gICAgfVxufVxuLmF2YXRhci10d297XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgID5pbWcge1xuICAgICAgICBtYXgtd2lkdGg6IDcwJTtcbiAgICAgICAgbWF4LWhlaWdodDogNzAlO1xuICAgICAgICAmOm50aC1jaGlsZCgyKSB7XG4gICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICB0b3A6IDIwcHg7XG4gICAgICAgICAgICByaWdodDogMHB4O1xuICAgICAgICB9XG4gICAgfVxufVxuXG5cbiJdfQ== */\"","import { Component } from '@angular/core';\nimport { ActionSheetController } from '@ionic/angular';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { Pipe, PipeTransform } from '@angular/core';\nimport { MessageService } from '../services/message.service';\nimport { Observable } from 'rxjs';\n\n@Component({\n  selector: 'app-tab2',\n  templateUrl: 'tab2.page.html',\n  styleUrls: ['tab2.page.scss']\n})\nexport class Tab2Page {\n  results: Observable<any>;\n  messages: any = [];\n  isLoading: boolean = false;\n\n  constructor(\n    public actionSheetController: ActionSheetController,\n    private router: Router,\n    private route: ActivatedRoute,\n    private messageService: MessageService\n  ) {}\n\n  ngOnInit() {}\n\n  ionViewWillEnter() {\n    this.isLoading = true;\n    this.getMessages();\n  }\n  \n  getMessages() {\n    this.results = this.messageService.getMessages();\n\n    this.results.subscribe(o => {\n      this.isLoading = false;\n      this.messages = o.rooms;\n      localStorage.setItem(\"cases\", JSON.stringify(o));\n      console.log(o, '0');\n    })\n  }\n}\n"],"sourceRoot":""}